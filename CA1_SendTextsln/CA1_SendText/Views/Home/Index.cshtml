@model CA1_SendText.Models.SmsViewModel
@{
    ViewBag.Title = "Send SMS";
    
}

@using (Html.BeginForm("Index", "Home", FormMethod.Post, new { @class="form-horizontal"}))
{

    <div class="row">
        <h1 class="text-center">@ViewBag.Title</h1>
   
        <div class="col-md-offset-3 col-md-6">
        
            @Html.LabelFor(model => model.Prefix)
            
            @Html.EditorFor(model => model.Prefix, new { htmlAttributes = new { @class = "form-control", onkeyup="moveCursor(this, PhoneNo);"} })              
            @Html.EditorFor(model => model.PhoneNo, new { htmlAttributes = new { @class = "form-control", onkeyup = "moveCursor(this, TextMessage);"} }) 
            @Html.ValidationMessageFor(model => model.Prefix, "", new { @class = "text-danger" }) <br />
            @Html.ValidationMessageFor(model => model.PhoneNo, "", new { @class = "text-danger" })
        </div>

    </div>
    <div class="row">
        <div class="col-md-offset-3 col-md-6">        
            @Html.LabelFor(model => model.TextMessage)
            @Html.TextAreaFor(model => model.TextMessage, new { rows = "4", @class = "form-control" })
            @Html.ValidationMessageFor(model => model.TextMessage, "", new { @class = "text-danger" })
        
        </div>

    </div>
    <div class="row">
        <div class="text-center">
            <input type="submit" value="Send Message" class="btn btn-success" />
        </div>

    </div>
}
@section Scripts
{
    @Scripts.Render("~/bundles/jqueryval")

    <script type="text/javascript">
        function moveCursor(txtBox, destination) {
            
            var length = txtBox.getAttribute("data-val-length-max");
            
            if (txtBox.value.length == length) {
               
                $(destination).focus();
            }
        }
    </script>
}
